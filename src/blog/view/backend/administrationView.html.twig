{% extends "@admin/AdminBase.html.twig" %}

{% block title %}Accueil{% endblock %}
{% block content %}
    <h3>Les billets</h3>
    <table class="table table-striped table-hover table-bordered">
        <thead class="thead-dark">
            <tr>
                <th>id</th><th>titre</th><th>contenu</th><th>date de creation</th><th>Publié</th><th>Action</th>
            </tr>
        </thead>
        <tbody>
        {% for post in posts %}
                <tr>
                    <td>{{post.id}}</td>
                    <td>{{post.title }}</td>
                    <td>{{post.content}}</td>
                    <td>{{post.dateCreation}}</td>
                    <td>{{post.published ? 'Oui' : 'Non'}}</td>
                    <td>
                        <div class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Action
                            </button>
                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <a class="dropdown-item" href="index.php?action=publish-post&amp;id={{post.id}}">{{post.published ? 'Dépublier' : 'Publier'}}</a>
                                <a class="dropdown-item" href="index.php?action=edit-post&amp;id={{post.id}}">Editer</a>
                                <a class="dropdown-item" href="index.php?action=delete-post&amp;id={{post.id}}">Supprimer</a>
                            </div>
                        </div>
                    </td>
                </tr>
                        
        {% endfor %}
            <tr>
                <td>
                    <div>
                        <a href="index.php?action=edit-post">Ajouter un post</a>
                    </div>
                </td>
                    
            </tr>
        </tbody>
                
    </table>
    <h3>Les commentaires</h3>
    <table class="table table-striped table-hover table-bordered">
        <thead class="thead-dark">
            <tr>
                <th>id</th><th>autheur</th><th>commentaire</th><th>numero du billet</th><th>date de creation</th>
            </tr>
        </thead>
        {% for comment in comments %}
            <tr>
                <td>{{comment.id}}</td>
                <td>{{comment.author}}</td>
                <td>{{comment.comment}}</td>
                <td>{{comment.postId}}</td>
                <td>{{comment.commentDate}} </td>
            </tr>
                        
        {% endfor %}
{% endblock %}
